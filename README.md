
# Модуль Атрибуты элемента инфоблока

## Описание

Данный модуль содержит набор функций, который позволяют реализовать характеристики элемента (например товаров) на базе одного стандартного свойства "Строка, Множественное значение", а так же использовать данные параметры в фильтре. Имеет смысл для редакции "Первый сайт" с ее ограничением - два инфоблока по два свойства в каждом. Включает пользовательский тип поля "Rodzeta - Настраиваемые атрибуты" и "Rodzeta - Простые атрибуты" (код атрибута - значение) на базе стандартного текстового поля.

## Описание установки и настройки решения

см. https://github.com/rivetweb/bitrix-rodzeta.attribs/tree/master/screenshots

- создайте и укажите раздел для хранения настроек атрибутов;
- создайте доп. поля разделов для хранения настроек атрибутов;
- создайте разделы атрибутов;
- после изменений в разделах атрибутов - нажмите в настройке модуля кнопку "Применить настройки";
- выберите для заданного в настройках свойства инфоблока пользовательский тип "Rodzeta - Настраиваемые атрибуты", выставить "Количество полей для ввода новых множественных значений" 30 (т.е. с данным ограниченим bitrix можно использовать максимум 30 разных атрибутов для данного типа поля).

### Пример для инициализации значений атрибутов в result_modifier.php компонента "Элемент каталога"

    \Rodzeta\Attribs\Init($arResult);

### Пример использования в шаблоне компонента "Элемент каталога"

    <?php foreach ($arResult["PROPERTIES"] as $code => $v) {
        if ($code == "ATTRIBS" || $code == "LINKS") {
            continue;
        }
    ?>
    <div>
        <span><?= $v["NAME"] ?>:</span>
        <?= $v["VALUE"] ?> <?= $v["HINT"] ?>
    </div>
    <?php } ?>

### Пример фильтрации по атрибутам для использования в компоненте "Элементы раздела"

    $ids = \Rodzeta\Attribs\Filter::getIds(array(
        "PRICE" => "10000", // равно
    ));
    /*
    $ids = \Rodzeta\Attribs\Filter::getIds(array(
        "PRICE" => "10000;20000", // диапазон
        "ves" => 200, // используем sef-алиасы
    ));
    $ids = \Rodzeta\Attribs\Filter::getIds($_GET); // из параметров
    */
    if (empty($ids)) {
        $ids = 0;
    }
    $GLOBALS["arrAttribsFilter"]["ID"] = $ids;

    ...

    <?$APPLICATION->IncludeComponent("bitrix:catalog.section", "furniture", 
        array(
            ...
            "FILTER_NAME" => "arrAttribsFilter",
            ...

## Описание техподдержки и контактных данных

Тех. поддержка и кастомизация оказывается на платной основе, e-mail: rivetweb@yandex.ru

Багрепорты и предложения на https://github.com/rivetweb/bitrix-rodzeta.attribs/issues

Пул реквесты на https://github.com/rivetweb/bitrix-rodzeta.attribs/pulls

## Ссылка на демо-версию

http://villa-mia.ru/
